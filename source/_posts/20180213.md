---
title: 鸟哥私房菜笔记二
date: 2018-02-13 14:21:23
categories: Linux
tags:
	- 笔记
---

## 文件权限的补充
对于这个`x`，我一开始的理解是错误的。看到**rwx**，我的理解觉得是可执行文件的执行权限。然，否也。这个`x`不光是文件的可执行权限，同时还包含`cd`命令的权限，也就是说你是否可以切换到该目录下。
举个例子：首先使用`root`用户切换到`/tmp`目录下
> cd /tmp

创建一个目录`test`，然后修改该文件夹权限组与其他用户只有`r`权限
> mkdir test
  chomd -R o=rwx,g=r,o=r
  
这个时候如果切换到`baiyuas`这个用户使用命令`cd test`，则会提示
> bash: cd: test/: Permission denied
 
 <!-- more --> 
## Linux下的文件目录
我们切换到根目录`/`目录下，执行`ls -al`命令看到如下文件目录：

    /bin -> usr/bin 多放置执行文件目录
    /boot 开机使用的文件目录，包含开机所需要的配置文件
    /dev 包含了所有Linux系统中的外部设备
    /etc 系统主要的配置文件目录
    * /etc/init.d/ 所有服务的启动脚本
    /home 家目录
    /lib -> usr/lib 指令所需要的函式库，主要的是/lib/modules
    /lib64 -> usr/lib64 64位系统中的函式库
    /media 挂载的软盘、光盘、DVD等设备
    /mnt 外置设备
    /opt 安装第三方软件的目录,一般会安装在 /usr/local/目录下
    /proc  虚拟文件目录，放置的数据存放在内容中
    /root 超级管理员的家目录 
    /sbin -> usr/sbin root用户指令依赖库 
    /srv service的缩写，网络服务启动后所需要的数据目录，例如网页数据可以存放在/srv/www/目录下
    /sys 功能类似/proc目录
    /tmp 临时目录，重要数据库不可以存放
    /usr
    /var
Linux下的文件目录就是一个树形结构，如下图(图片来自[鸟哥私房菜][1])
![此处输入图片的描述][2]

**容混淆的概念**
> /usr  是Unix Software Resources的缩写，不是user的缩写

### 绝对路径和相对路径
这里介绍个知识点，
> **.** 代表当前目录，
  **..** 代表上一级目录。
  **-** 代表前一个工作目录，比如，你当前在`/usr/local/`目录下，然后使用命令`cd /home/baiyuas/`你会切换到`/home/baiyuas/`目录下，如果你想在返回到`/usr/local/`目录下，可以使用`cd -`。
  **~** 代表家目录
  **~userxx** 代表userxx用户的家目录

### 目录相关的命令
 - **cd** 
 切换目录命令
 - **pwd [-P]** 
 显示当前路径，-P显示当前确实的路径而非link的路径
 - **mkdir [-mp]** 
 创建目录 -m 创建目录时候增加权限`mkdir -m 777 abc`。
 -p 递归创建目录，可以创建多层目录`mkdir -p abc/ccc/a`
 - **rmdir -[p]** 
 删除空目录
 - **echo $PATH**
 查看当前环境变量信息
 
### 文件目录相关的命令
 - **cp [-aipr]**
 -a 文件所有信息都复制过去
 -i 如果文档存在提示是否覆盖
 -p 连同文档树形一起复制过去
 -r 复制目录使用
 对于这个命令，我之前一直有个问题，比如有个文件夹`/home/baiyuas/ccc/`，我想把文件夹下所有复制到`/tmp/ccc/`下，但是`/tmp/`目录下没有`ccc`,学习后发现so easy.
> cp -r /home/baiyuas/ccc/ /tmp/ccc
 - **rm [-r]**
 -r 递归删除，有个特别情况，比如有个文件名称为`-aaa-`，这时候删除该文件就在文件前添加当前目录符号，使用命令`rm ./-aaa-`
 - **mv [-fiu]**
 -f 如果目标文件存在则覆盖
 -i 如果目标文件存在，提示是否覆盖
 -u 若目标文件存在，且比source比较新，才会升级
 - **rename**
 修改文件名命令，可以批量修改
> `?` 可替代单个字符
  `*` 可替代多个字符
  `[charset]`  可替代charset集中的任意单个字符
 
例如：在/home/baiyuas/file/目录下有文件file1,file2..file10
`rename file newfile newfile0?`命令会把file1, file2...file10重命名为newfile1,newfile2...newfile10,然后在重命名为newfile01,newfile02...newfile010

  [1]: http://cn.linux.vbird.org/linux_basic/0210filepermission_3.php
  [2]: http://cn.linux.vbird.org/linux_basic/0210filepermission_files/directory_tree.gif